<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <script>
    {
      const url = 'http://sample.com/?a=1&b=2&c=xx&d=2#hash';

      function getParams(str) {
        // 1. 通过操作 url 字符串，数组等实现
        // const searchPart = str.split('?').pop().split('#').shift().split('&');
        // return searchPart.reduce((acc, cur) => {
        //   const [key, val] = cur.split('=');
        //   acc[key] = val;
        //   return acc;
        // }, {});
        // ---------------------------------------------------------------------------
        // 2. URLSearchParams
        // const url = new URL(str);
        // const search = new URLSearchParams(url.search);
        // const res = {};
        // search.forEach((v, k) => {
        //   res[k] = v;
        // });
        // return res;
      }

      const res = getParams(url);
      console.log(res);
    }
  </script>

  <body>
    <p>解析 URL 参数</p>
    <br />
    <p>const url = 'http://sample.com/?a=1&b=2&c=xx&d=2#hash';</p>
    <br />
    <p>{ a: '1', b: '2', c: 'xx', d: '' }</p>
  </body>
</html>
