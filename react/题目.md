### `setState` 是异步的还是同步的
setState 有两种表现形式: 异步/同步
组件更新时，会有一个`batchUpdate`方法，用于控制是否立即更新，函数体大概如下：
let asycUpdate = true
function batchUpdate(fn) {
  asycUpdate = false
  fn()
  asycUpdate = true
}
这里的fn，就是一个 setState 内的更新，当 asycUpdate 为 false 时，fn内的更新并不会立即执行，而是发起一个更新调度任务，执行完 fn 后，又把这个变量设为 true
当 `setState` 调用处于 setTimeout 的方法体内时，由于 setTimeout 内的代码执行时，batchUpdate 已经执行完毕，所以对于 setTimeout 内的 setState 来说，asycUpdate 的切换并没有生效，所以这里的更新就变成了同步更新