### 介绍一下作用域&作用域链

说作用域之前先说一下执行上下文的概念

在运行一段可执行的 js 代码时，都会创建一个对应的执行上下文，并且一个与之关联的变量对象，当前上下文中所有的变量或函数都存在与这个变量对象上

全局上下文时最外层的上下文

js 是通过维护一个栈结构，

每个函数调用都有自己的上下文，当函数代码执行时，函数上下文会被推入执行上下文栈，执行完毕后又会出栈，将控制权交给之前的上下文

通过这种方式，来切换不同的执行上下文，激活和删除不同的变量对象

---

首先说一下作用域

<!-- 可以把它理解为一块在程序中定义变量的区域，他决定了内部变量的生命周期，控制着他们的可访问范围。 -->

可以理解为对一个执行上下文中对应的变量对象的限定，它决定了变量对象中的变量和函数的生命周期，控制着他们的可访问范围

目前主要存在的作用域有两种，全局作用域，函数作用域

块级作用域比较特殊，需要配合 let，const 来创建

---

再说作用域链

它描述了，在一个作用域中，某个变量的查找访问的顺序，如果变量不存在，下一步做什么，去哪里查找，描述了这条链路

作用域链的顺序是由词法作用域来决定的，词法作用域是静态的作用域，只和函数声明的位置有关，与函数调用位置无关

最典型最普遍的作用域链的表现，就是闭包

---

闭包

闭包的本质其实是作用域链的表现：
某些函数因为持有了上一级的词法作用域中的变量，导致了调用栈即使弹出了某个执行上下文，依然不能回收其控制的变量对象，因为作用域链保存了这个变量的寻址路径，这就形成了闭包
